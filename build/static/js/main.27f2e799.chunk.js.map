{"version":3,"sources":["logic/auth/index.js","components/core/Menu.jsx","components/chat/ChatMessage.jsx","images/sot-wp.jpg","components/chat/ChatForm.jsx","pages/core/Taverne.jsx","logic/user/apiUser.js","images/default-image.png","pages/user/Users.jsx","pages/core/Signup.jsx","pages/core/Signin.jsx","components/user/DeleteUser.jsx","components/user/UserPosts.jsx","logic/post/apiPost.js","pages/user/Profile.jsx","pages/user/EditProfile.jsx","images/beautiful-sea.jpg","pages/post/Posts.jsx","pages/post/NewPost.jsx","components/post/WriteComment.jsx","pages/post/OnePost.jsx","pages/post/EditPost.jsx","components/user/ForgotPassword.jsx","components/user/ResetPassword.jsx","pages/admin/Admin.jsx","components/auth/PrivateRoute.jsx","App.jsx","index.jsx"],"names":["signup","newUser","a","fetch","process","method","headers","Accept","body","JSON","stringify","res","json","console","log","signin","user","signout","redirect","window","localStorage","removeItem","response","message","logUserIn","jwt","setItem","isLoggedIn","getItem","parse","forgotPassword","email","info","error","resetPassword","newCredentials","isActive","history","path","location","pathname","color","fontWeight","withRouter","className","style","to","_id","test","pseudo","toLowerCase","onClick","push","right","messageLayout","ChatForm","state","padding","action","onSubmit","event","preventDefault","props","onSubmitMessage","setState","type","placeholder","value","this","width","height","onChange","target","boxShadow","src","SoTWP","alt","maxWidth","maxHeight","Component","URL","Taverne","messages","socket","WebSocket","addMessage","submitMessage","messageString","messageData","send","onopen","data","pirateName","onmessage","onclose","map","index","ChatMessage","read","userId","token","Authorization","usersPerPage","page","updateUser","updateInfo","next","auth","remove","Users","users","loadUsers","allUsers","getMoreUsers","num","getLessUsers","componentDidMount","renderUsers","justifyContent","position","i","photo","about","backgroundColor","marginRight","marginBottom","borderRadius","marginTop","onError","img","defaultProfilePic","length","Number","Signup","password","success","handleChange","name","signupForm","htmlFor","required","id","signupSubmit","display","Signin","loading","redirection","signinForm","autoFocus","signinSubmit","margin","alignItems","DeleteUser","redirectionSignIn","allMighty","deleteAccount","deleteConfirmation","answer","kingAnswer","confirm","currentUserId","UserPosts","posts","post","title","createPost","postsPerPage","viewPost","postId","listUserPosts","updatePost","writeComment","comment","deleteComment","Profile","init","loadPosts","then","match","params","created","role","hobbies","photoUrl","Date","getTime","toLocaleDateString","EditProfile","redirectionProfile","fileSize","files","size","userData","set","isValid","updateSubmit","updateForm","accept","FormData","photoUri","Posts","allPosts","showMorePosts","showLessPosts","renderPosts","posterProfile","author","posterPseudo","defaultPostPic","substring","NewPost","postData","postSubmit","postForm","WriteComment","addComment","updateComments","comments","removeComment","reverse","commentatorProfile","commentatorPseudo","border","fontSize","cursor","OnePost","redirectionPosts","onePost","deletePost","renderPost","posterId","objectFit","EditPost","submitPostUpdate","postUpdateForm","ForgotPassword","ResetPassword","newPassword","startResetProcess","resetPasswordToken","resetPasswordLink","AdminInterface","redirectionHome","PrivateRoute","component","rest","render","from","App","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27f2e799.chunk.js","sourcesContent":["export const signup = async (newUser) => {\r\n  try {\r\n    const res = await fetch(`${process.env.REACT_APP_API_URI}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newUser),\r\n    });\r\n    return await res.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const signin = async (user) => {\r\n  try {\r\n    const res = await fetch(`${process.env.REACT_APP_API_URI}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(user),\r\n    });\r\n    return await res.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const signout = async (redirect) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    redirect();\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/signout`, {\r\n      method: \"GET\",\r\n    });\r\n    return response.json({\r\n      message: \"User disconnected\",\r\n    });\r\n  }\r\n};\r\n\r\nexport const logUserIn = (jwt, redirect) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(jwt));\r\n  }\r\n  redirect();\r\n};\r\n\r\nexport const isLoggedIn = () => {\r\n  if (typeof window === \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    // console.log(`[front-end/src/auth/index.js => isLoggedIn:58] : localStorage.getItem(\"jwt\"): `, localStorage.getItem(\"jwt\"))\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const forgotPassword = async (email) => {\r\n  console.info(\r\n    `[front-end/auth/index.js => forgotPassword:67] : email: ${email}`\r\n  );\r\n  try {\r\n    const response = await fetch(\r\n      `${process.env.REACT_APP_API_URI}/forgot-password/`,\r\n      {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email }),\r\n      }\r\n    );\r\n    console.log('[front-end/auth/index.js => forgotPassword:81] : response: ', response);\r\n    return response.json();\r\n  } catch (error) {\r\n    console.error(\r\n      `[front-end/src/auth/index.js => forgotPassword:85] : error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const resetPassword = async (newCredentials) => {\r\n  // console.log(`[front-end/auth/index.js => resetPassword:91] : newCredentials: ${JSON.stringify(newCredentials)}`)\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/reset-password/`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newCredentials)\r\n    });\r\n    // console.log(`[front-end/auth/index.js => resetPassword:101] : response: ${response}`);\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(`[front-end/auth/index.js => resetPassword:101] : error: ${error}.`)\r\n  }\r\n};\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\n// Native modules import\r\nimport React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\n// Components import\r\n\r\n// Personal modules import\r\nimport { signout, isLoggedIn } from \"../../logic/auth/index\";\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return {\r\n      color: \"#3BA7BF\",\r\n      fontWeight: \"bold\"\r\n    };\r\n  } else {\r\n    return {\r\n      color: \"#0D0D0D\",\r\n    };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n  <div className=\"container\">\r\n    <nav className=\"navbar navbar-light bg-light\">\r\n      <ul className=\"nav nav-tabs\">\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"navbar-link mr-3\"\r\n            style={(isActive(history, \"/\"))}\r\n            to=\"/\"\r\n          >\r\n            La Taverne\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"navbar-link mr-3\"\r\n            style={isActive(history, \"/users\")}\r\n            to=\"/users\"\r\n          >\r\n            Les Pirates de la Taverne\r\n          </Link>\r\n        </li>\r\n\r\n        {!isLoggedIn() && (\r\n          <>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"navbar-link mr-3\"\r\n                style={isActive(history, \"/signin\")}\r\n                to=\"/signin\"\r\n              >\r\n                Connexion\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"navbar-link mr-3\"\r\n                style={isActive(history, \"/signup\")}\r\n                to=\"/signup\"\r\n              >\r\n                Rejoindre\r\n              </Link>\r\n            </li>\r\n          </>\r\n        )}\r\n\r\n        {isLoggedIn() && (\r\n          <>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                to=\"/posts\"\r\n                style={isActive(history, `/posts`)}\r\n                className=\"navbar-link mr-3\"\r\n              >\r\n                Messages\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                to=\"/post/create\"\r\n                style={isActive(history, `/post/create`)}\r\n                className=\"navbar-link mr-3\"\r\n              >\r\n                Envoyer un message\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"navbar-link mr-3\"\r\n                style={\r\n                  (isActive(history, `/user/${isLoggedIn().user._id}`),\r\n                  { color: \"#81A65D\", fontWeight: \"bold\" })\r\n                }\r\n                to={`/user/${isLoggedIn().user._id}`}\r\n              >\r\n                {`Planque ${\r\n                  /^[aeiou]/i.test(isLoggedIn().user.pseudo.toLowerCase())\r\n                    ? \"d'\"\r\n                    : \"de \"\r\n                }${isLoggedIn().user.pseudo}`}\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                to=\"/\"\r\n                onClick={() => signout(() => history.push(\"/\"))}\r\n                className=\"navbar-link mr-5\"\r\n                style={\r\n                  (isActive(history, \"/signout\"),\r\n                  { color: \"#8C0303\", fontWeight: \"bold\" })\r\n                }\r\n              >\r\n                Déconnexion\r\n              </Link>\r\n            </li>\r\n            {isLoggedIn() && isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE && (\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  to=\"/admin\"\r\n                  className=\"navbar-link mr-5\"\r\n                  style={\r\n                    (isActive(history, \"/admin\"),\r\n                    { color: \"#9662E3\", fontWeight: \"bold\" })\r\n                  }\r\n                >\r\n                  Administration du Roi des Pirates\r\n                </Link>\r\n              </li>\r\n            )}\r\n          </>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\n\r\nconst messageLayout = ({ pseudo, message }) => (\r\n  <div className=\"container col col-md-12\">\r\n    <div className=\"container row row-12\">\r\n      <p className=\"text-center\">\r\n        <strong>{pseudo}</strong>: <em>{message}</em>\r\n      </p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default messageLayout;\r\n","export default __webpack_public_path__ + \"static/media/sot-wp.966d86a1.jpg\";","/* eslint-disable no-lone-blocks */\r\n// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Personal modules import\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport SoTWP from \"../../images/sot-wp.jpg\";\r\n\r\nclass ChatForm extends Component {\r\n  static propTypes = {\r\n    onSubmitMessage: PropTypes.func.isRequired,\r\n  };\r\n  state = {\r\n    message: \"\",\r\n  };\r\n\r\n  render() {\r\n    if (isLoggedIn()) {\r\n      return (\r\n        <div className=\"container jumbotron\" style={{ padding: \"32px 32px\" }}>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 mt-3 mb-3\">\r\n              <h4 className=\" text-center\" style={{ fontWeight: \"bold\" }}>\r\n                Bienvenue dans la Taverne, {isLoggedIn().user.pseudo}\r\n              </h4>\r\n            </div>\r\n\r\n            <form\r\n              action=\"\"\r\n              onSubmit={(event) => {\r\n                event.preventDefault();\r\n                this.props.onSubmitMessage(this.state.message);\r\n                this.setState({ message: \"\" });\r\n              }}\r\n              className=\"form-control jumbotron text-center\"\r\n              style={{ padding: \"32px 32px\" }}\r\n            >\r\n              <div className=\"container row d-flex flex-row\">\r\n                <div className=\"col text-center\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder={`Ecris ici ce que tu as à dire, ${\r\n                      isLoggedIn().user.pseudo\r\n                    }...`}\r\n                    value={this.state.message}\r\n                    style={{ width: \"444px\", height: \"42px\" }}\r\n                    onChange={(event) =>\r\n                      this.setState({ message: event.target.value })\r\n                    }\r\n                  />\r\n                  <button\r\n                    className=\"btn btn-primary font-weight-bold lead btn-lg\"\r\n                    type=\"submit\"\r\n                    style={{boxShadow: \"2px 2px 3px grey\", color: \"#81A65D\" }}\r\n                  >\r\n                    Envoyer\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"container jumbotron\" style={{ padding: \"0px 32px\" }}>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 mt-5 mb-5\">\r\n              <h4 className=\" text-center\" style={{ fontWeight: \"bold\" }}>\r\n                Bienvenue dans la Taverne, pirate !\r\n              </h4>\r\n              <img\r\n                src={`${SoTWP}`}\r\n                alt=\"wall-paper-sea-of-thieves\"\r\n                style={{\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n                  maxWidth: \"auto\",\r\n                  maxHeight: \"auto\",\r\n                  boxShadow: \"3px 3px 10px grey\",\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ChatForm;\r\n","/* eslint-disable no-lone-blocks */\r\n// Native modules import\r\nimport React, { Component } from \"react\";\r\n\r\n// Personal modules import\r\nimport ChatMessage from \"../../components/chat/ChatMessage\";\r\nimport ChatForm from \"../../components/chat/ChatForm\";\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\n\r\n// Constants definition\r\nconst URL = `ws://localhost:9092`;\r\n\r\n// eslint-disable-next-line no-empty-pattern\r\nclass Taverne extends Component {\r\n  state = {\r\n    pseudo: \"\",\r\n    messages: [],\r\n  };\r\n\r\n  socket = new WebSocket(URL);\r\n\r\n  addMessage = (message) =>\r\n    this.setState((state) => ({\r\n      messages: [message, ...state.messages],\r\n    }));\r\n\r\n  submitMessage = (messageString) => {\r\n    const messageData = { pseudo: this.state.pseudo, message: messageString };\r\n    this.socket.send(JSON.stringify(messageData));\r\n    this.addMessage(messageData);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.socket.onopen = (data) => {\r\n      if (isLoggedIn()) {\r\n        const pirateName = isLoggedIn().user.pseudo;\r\n        // console.log('data', data);\r\n        this.setState({\r\n          pseudo: pirateName,\r\n        });\r\n        // console.log(`${pirateName} s'est connecté au tchat.`);\r\n      } else {\r\n        this.setState({\r\n          pseudo: \"Pirate inconnu\",\r\n        });\r\n        // console.log(`Un pirate inconnu s'est connecté au tchat.`);\r\n      }\r\n    };\r\n\r\n    this.socket.onmessage = (message) => {\r\n      const messageData = JSON.parse(message.data);\r\n      this.addMessage(messageData);\r\n    };\r\n\r\n    this.socket.onclose = () => {\r\n      this.setState({\r\n        socket: new WebSocket(URL),\r\n      });\r\n    };\r\n  };\r\n\r\n  render() {\r\n    const { messages } = this.state;\r\n    return (\r\n      <div className=\"container jumbotron\">\r\n        <ChatForm\r\n          socket={this.socket}\r\n          onSubmitMessage={(messageString) => this.submitMessage(messageString)}\r\n        />\r\n        {messages.map((message, index) => (\r\n          <ChatMessage\r\n            key={index}\r\n            message={message.message}\r\n            pseudo={message.pseudo}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport default Taverne;\r\n","export const read = async (userId, token) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/user/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const usersPerPage = async (page) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/users/?page=${page}`, {\r\n      method: \"GET\",\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n      );\r\n    }\r\n};\r\n\r\nexport const updateUser = async (userId, token, user) => {\r\n  // console.log(`[front-end/src/user/apiUser.js => updateUser:46] : userId: ${userId}, token: ${token}, user: ${user}`);\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/user/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: user,\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't put data to api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const updateInfo = (user, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      // console.log(`[front-end/src/user/apiUser.js => updateInfo:67] : inside if (localStorage.getItem('jwt'))`);\r\n      let auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n      auth.user = user;\r\n      localStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n      next();\r\n    }\r\n  }\r\n};\r\n\r\nexport const remove = async (userId, token) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/user/${userId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/default-image.2f816011.png\";","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { usersPerPage } from \"../../logic/user/apiUser\";\r\nimport defaultProfilePic from \"../../images/default-image.png\";\r\n\r\nclass Users extends Component {\r\n  state = {\r\n    users: [],\r\n    page: 1\r\n  };\r\n\r\n  loadUsers = async (page) => {\r\n    try {\r\n      const allUsers = await usersPerPage(page);\r\n      // console.log(`[front-end/src/users/Users.jsx => loadUsers:18] : allUsers : ${allUsers}`);\r\n      // console.log(`[front-end/src/users/Users.jsx => loadUsers:18] : type of allUsers : ${typeof allUsers}`);\r\n      if (allUsers) {\r\n        this.setState({\r\n          users: allUsers,\r\n        });\r\n      } else {\r\n        console.error(\r\n          `No users were retrieved from the server because of error.`\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(`Couldn't list all users because of error: ${error}.`);\r\n    }\r\n  };\r\n\r\n  getMoreUsers = (num) => {\r\n    this.setState({ page: this.state.page + 1 });\r\n    this.loadUsers(this.state.page + num);\r\n  };\r\n\r\n  getLessUsers = (num) => {\r\n    this.setState({ page: this.state.page - 1 });\r\n    this.loadUsers(this.state.page - num);\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    this.loadUsers(this.state.page);\r\n  };\r\n\r\n  renderUsers = (users) => (\r\n    <div\r\n      className=\"row\"\r\n      style={{ justifyContent: \"center\", position: \"relative\" }}\r\n    >\r\n      {users.map((user, i) => {\r\n        const { photo, _id, pseudo, about } = user;\r\n        if (photo) {\r\n          return (\r\n            <div\r\n              className=\"card card-block col-sm-12 col-md-6 col-lg-4 col-xl-3\"\r\n              key={i}\r\n              style={{\r\n                backgroundColor: \"#D9D9D9\",\r\n                marginRight: \"30px\",\r\n                marginBottom: \"30px\",\r\n                boxShadow: \"3px 3px 5px grey\",\r\n                borderRadius: \"3%\"\r\n              }}\r\n            >\r\n\r\n              <div className=\"card-body text-center\" key={i}>\r\n              <img\r\n                style={{\r\n                  height: \"auto\",\r\n                  width: \"auto\",\r\n                  marginTop: \"15px\",\r\n                  borderRadius: \"25%\",\r\n                  boxShadow: \"3px 3px 10px grey\"\r\n                }}\r\n                src={`${process.env.REACT_APP_API_URI}/user/photo/${_id}`}\r\n                onError={(img) => (img.target.src = `${defaultProfilePic}`)}\r\n                className=\"img-thumbnail mb-3\"\r\n                alt={pseudo}\r\n              />\r\n              </div>\r\n                <hr/>\r\n                <h5 className=\"card-title text-center font-weight-bold mb-3\">\r\n                  {pseudo}\r\n                </h5>\r\n                <p className=\"card-text text-justify mb-5\">{about}</p>\r\n              <Link\r\n                to={`/user/${_id}`}\r\n                className=\"btn btn-lg btn-block btn-outline-success text-center font-weight-bold mb-3\"\r\n              >\r\n                Planque\r\n              </Link>\r\n            </div>\r\n          );\r\n        } else {\r\n          return (\r\n            <div\r\n              className=\"card card-block col-sm-12 col-md-6 col-lg-4 col-xl-3\"\r\n              key={i}\r\n              style={{\r\n                backgroundColor: \"#D5E5F2\",\r\n                marginRight: \"30px\",\r\n                marginBottom: \"30px\",\r\n              }}\r\n            >\r\n              <img\r\n                style={{\r\n                  height: \"auto\",\r\n                  width: \"auto\",\r\n                  marginTop: \"15px\",\r\n                  borderRadius: \"50%\",\r\n                }}\r\n                src={`${defaultProfilePic}`}\r\n                onError={(img) => (img.target.src = `${defaultProfilePic}`)}\r\n                className=\"img-thumbnail mb-3\"\r\n                alt={pseudo}\r\n              />\r\n              <div className=\"card-body d-flex flex-column\" key={i}>\r\n                <h5 className=\"card-title text-center\">{pseudo}</h5>\r\n                <p className=\"card-text mb-5\">{about}</p>\r\n                <Link\r\n                  to={`/user/${_id}`}\r\n                  className=\"btn btn-lg btn-block btn-outline-success text-center font-weight-bold mb-3\"\r\n                >\r\n                  Planque\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n      })}\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    const { users, page} = this.state;\r\n    return (\r\n      <div className=\"jumbotron\">\r\n        <h2 className=\"mt-3 mb-5 text-center\" style={{ fontWeight: \"bold\" }}>\r\n        {!users.length\r\n            ? \"Rien à afficher pour le moment...\"\r\n            : \"Les Pirates de la Taverne des Soiffards\"}\r\n        </h2>\r\n        {this.renderUsers(users)}\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col text-right\">\r\n            {page > 1 ? (\r\n              <button\r\n                className=\"btn btn-raised btn-info mt-5 mb-5\"\r\n                onClick={() => this.getLessUsers(1)}\r\n                style={{boxShadow: \"3px 3px 5px grey\"}}\r\n              >\r\n                Page précédente\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"col text-left\">\r\n            {/* {console.log('users.length: ', users.length)}\r\n            {console.log('page: ', page)}\r\n            {console.log('process.env.PER_PAGE: ', process.env.REACT_APP_PER_PAGE)} */}\r\n            {(users.length > page && users.length === Number(process.env.REACT_APP_PER_PAGE)) ? (\r\n              <button\r\n                className=\"btn btn-raised btn-info mt-5 mb-5\"\r\n                onClick={() => this.getMoreUsers(1)}\r\n                style={{boxShadow: \"3px 3px 5px grey\"}}\r\n              >\r\n                Page suivante\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Users;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Personal modules import\r\nimport { signup } from \"../../logic/auth/index\";\r\n\r\nclass Signup extends Component {\r\n  state = {\r\n    pseudo: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  };\r\n\r\n  handleChange = (name) => (event) => {\r\n    this.setState({\r\n      error: \"\",\r\n    });\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  signupForm = (pseudo, email, password) => {\r\n    return (\r\n      <form action=\"\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Name\" className=\"text-muted lead\" style={{fontWeight: \"bold\"}}>\r\n            Pseudo\r\n          </label>\r\n          <input\r\n            onChange={this.handleChange(\"pseudo\")}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={pseudo}\r\n            placeholder=\"Le nom qui sera visible par les autres utilisateurs de la Taverne\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Email\" className=\"text-muted lead\" style={{fontWeight: \"bold\"}}>\r\n            E-mail\r\n          </label>\r\n          <input\r\n            onChange={this.handleChange(\"email\")}\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            value={email}\r\n            placeholder=\"Votre e-mail de contact (example : guy-tard@gmail.com)\"\r\n            required\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            <em>Votre e-mail est strictement confidentiel et ne sera partagé avec aucune tierce partie</em>\r\n          </small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password\" className=\"text-muted lead\" style={{fontWeight: \"bold\"}}>\r\n            Mot de passe\r\n          </label>\r\n          <input\r\n            onChange={this.handleChange(\"password\")}\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={password}\r\n            placeholder=\"Ne communiquez jamais votre mot de passe à qui que ce soit.\"\r\n            required\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={this.signupSubmit}\r\n          type=\"submit\"\r\n          className=\"btn btn-raised btn-primary\"\r\n        >\r\n          S'inscrire\r\n        </button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  signupSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { pseudo, email, password } = this.state;\r\n    const newUser = { pseudo, email, password };\r\n    let response;\r\n    try {\r\n      response = await signup(newUser);\r\n    } catch (error) {\r\n      console.error(\r\n        `Couldn't get a response, type of response is ${typeof response}.`\r\n      );\r\n    }\r\n    if (response.error) {\r\n      try {\r\n        this.setState({\r\n          error: response.error,\r\n        });\r\n      } catch (error) {\r\n        console.error(`Couldn't change state because of error: ${error}.`);\r\n      }\r\n    } else {\r\n      try {\r\n        this.setState({\r\n          pseudo: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          error: \"\",\r\n          success: true,\r\n        });\r\n        // setTimeout(() => {\r\n        //   this.setState({\r\n        //     success: false,\r\n        //   });\r\n        // }, 3000);\r\n      } catch (error) {\r\n        console.error(`Couldn't change state because of error: ${error}.`);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { pseudo, email, password, error, success } = this.state;\r\n    return (\r\n      <div className=\"container jumbotron\">\r\n        <h2 className=\"mt-5 mb-5 text-center\">Inscription</h2>\r\n\r\n        <div\r\n          className=\"alert alert-warning\"\r\n          style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n          {error}\r\n        </div>\r\n        <div\r\n          className=\"alert alert-success\"\r\n          style={{ display: success ? \"\" : \"none\" }}\r\n        >\r\n          Ton compte vient d'être créé, pirate ! A la <Link to=\"/signin\">Taverne</Link>, maintenant !\r\n        </div>\r\n        {this.signupForm(pseudo, email, password)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signup;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { signin, logUserIn } from \"../../logic/auth/index\";\r\n\r\nclass Signin extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    redirection: false,\r\n  };\r\n\r\n  signinForm = (email, password) => {\r\n    return (\r\n      <form action=\"\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Email\" className=\"text-muted lead\" style={{fontWeight: \"bold\"}}>\r\n            E-mail\r\n          </label>\r\n          <input\r\n            onChange={this.handleChange(\"email\")}\r\n            type=\"email\"\r\n            name=\"email\"\r\n            className=\"form-control\"\r\n            value={email}\r\n            autoFocus\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"Password\" className=\"text-muted lead\" style={{fontWeight: \"bold\"}}>\r\n            Mot de passe\r\n          </label>\r\n          <input\r\n            onChange={this.handleChange(\"password\")}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"form-control\"\r\n            value={password}\r\n            required\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={this.signinSubmit}\r\n          type=\"submit\"\r\n          className=\"btn btn-raised btn-primary\"\r\n        >\r\n          Entrer dans la Taverne\r\n        </button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  handleChange = (name) => (event) => {\r\n    this.setState({\r\n      error: \"\",\r\n    });\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  signinSubmit = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    const { email, password } = this.state;\r\n    const user = { email, password };\r\n    if (\"\" !== email && \"\" !== password) {\r\n      let response;\r\n      try {\r\n        response = await signin(user);\r\n      } catch (error) {\r\n        console.error(`Couldn't retrieve data using signin method.`);\r\n      }\r\n      if (response.error) {\r\n        this.setState({\r\n          loading: false,\r\n          error: response.error,\r\n        });\r\n      } else {\r\n        logUserIn(response, () => {\r\n          this.setState({\r\n            redirection: true,\r\n          });\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        loading: false,\r\n        error: `Tu dois renseigner un e-mail et un mot de passe, sacrebleu !`,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error, redirection, loading } = this.state;\r\n    if (redirection) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        {loading ? (\r\n          <div\r\n            className=\"jumbotron\"\r\n            style={{\r\n              margin: \"0\",\r\n              padding: \"0\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              height: \"100vw\",\r\n              width: \"100vw\",\r\n            }}\r\n          >\r\n            <h3\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              Chargement...\r\n            </h3>\r\n          </div>\r\n        ) : (\r\n          <div className=\"container jumbotron\">\r\n            <h2 className=\"mt-5 mb-2 text-center\">Bienvenue, moussaillon !</h2>\r\n            <p className=\"lead mb-5 text-center\">Connecte-toi pour accéder aux fonctionnalités du site !</p>\r\n\r\n            <div\r\n              className=\"alert alert-warning\"\r\n              style={{ display: error ? \"\" : \"none\" }}\r\n            >\r\n              {error}\r\n            </div>\r\n\r\n            {this.signinForm(email, password)}\r\n            <button className=\"btn btn-raised btn-danger btn-sm\">\r\n              <Link to=\"/forgot-password\" className=\"text\" style={{color: \"#ffffff\"}}>\r\n                Mot de passe oublié\r\n              </Link>\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signin;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { isLoggedIn, signout } from \"../../logic/auth/index\";\r\nimport { remove } from \"../../logic/user/apiUser\";\r\n\r\nclass DeleteUser extends Component {\r\n  state = {\r\n    redirectionSignIn: false,\r\n    allMighty: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE) {\r\n      this.setState({ allMighty: true });\r\n    }\r\n  };\r\n\r\n  deleteAccount = async () => {\r\n    const token = isLoggedIn().token;\r\n    const userId = this.props.userId;\r\n    try {\r\n      const response = await remove(userId, token);\r\n      if (response.error) {\r\n        console.error(\r\n          `An error occured during account deletion: ${response.error}.`\r\n        );\r\n      } else {\r\n        if (!isLoggedIn().user.right === 'Roi des Pirates') {\r\n          signout(() => {\r\n            console.log(`User has been deleted.`);\r\n          });\r\n          this.setState({\r\n            redirectionSignIn: true,\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `Couldn't get a response from server because of error: ${error}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  deleteConfirmation = () => {\r\n    let answer, kingAnswer;\r\n    if (isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE) {\r\n      kingAnswer = window.confirm(\r\n        `Tu vas supprimer le profil de ce Pirate de façon irréversible ; même toi tu n'y pourras plus rien, mon Roi.\r\n        Es-tu bien certain que c'est ce que tu veux faire ?`\r\n      );\r\n    } else {\r\n      answer = window.confirm(\r\n        `Tu vas supprimer ton profil de façon TOTALEMENT définitive, moussaillon, tu es sûr ?\r\n         Même le Roi des Pirates n'y pourra plus rien, j'te préviens...`\r\n      );\r\n    }\r\n    if (answer || kingAnswer) {\r\n      this.deleteAccount();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { redirectionSignIn, allMighty } = this.state;\r\n    const currentUserId = this.props.userId;\r\n    if (redirectionSignIn) {\r\n      return <Redirect to=\"/signin\" />;\r\n    }\r\n    \r\n    if (allMighty && isLoggedIn().user._id !== currentUserId) {\r\n      return (\r\n        <button\r\n          onClick={this.deleteConfirmation}\r\n          className=\"btn btn-raised btn-dark font-weight-bold\"\r\n        >\r\n          Supprimer en tant que Roi\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button\r\n          onClick={this.deleteConfirmation}\r\n          className=\"btn btn-raised btn-danger\"\r\n        >\r\n          Quitter définitivement la Taverne\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default DeleteUser;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass UserPosts extends Component {\r\n  render() {\r\n    const { posts } = this.props;\r\n    // console.log('posts inside ProfileTabes', posts);\r\n    return (\r\n      <div>\r\n        <div className=\"col-md-12\">\r\n          <h3 className=\"text-primary\">{posts.length} Posts</h3>\r\n          <hr />\r\n          {posts.map((post, i) => (\r\n            <div key={i}>\r\n              <div>\r\n                <Link to={`/post/${post._id}`}>\r\n                  <div>\r\n                    <p className=\"lead\" style={{color: \"#81A65D\"}}>{post.title}</p>\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserPosts;\r\n","export const createPost = async (userId, token, post) => {\r\n  try {\r\n    const response = await fetch(\r\n      `${process.env.REACT_APP_API_URI}/post/new/${userId}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: post,\r\n      }\r\n    );\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't post data to api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const postsPerPage = async (page) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/posts/?page=${page}`, {\r\n      method: \"GET\",\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const viewPost = async (postId) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\r\n      method: \"GET\",\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api in viewPost because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const listUserPosts = async (userId, token) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/posts/by/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const remove = async (postId, token) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const updatePost = async (postId, token, post) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: post,\r\n    });\r\n    console.info('INSIDE UPDATEPOST APRES LE FETCH MAIS AVANT LE RETOUR DE LA REPONSE')\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't put data to api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const writeComment = async (userId, token, postId, comment) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/comment`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({ userId, postId, comment })\r\n    })\r\n    return response.json();\r\n  } catch (error) {\r\n    console.error(`[front-end/src/logic/post/apiPosts.js => writeComment] : error: ${error}`)\r\n  }\r\n};\r\n\r\nexport const deleteComment = async (userId, token, postId, comment) => {\r\n  try {\r\n    console.log(`[front-end/src/logic/post/apiPost.js => deleteComment] : userId: ${userId}, token: ${token}, postId: ${postId}`);\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/uncomment`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({ userId, postId, comment })\r\n    })\r\n    return response.json();\r\n  } catch (error) {\r\n    console.error(`[front-end/src/logic/post/apiPosts.js => deleteComment] : error: ${error}`)\r\n  }\r\n};\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\n// Components import\r\nimport DeleteUser from \"../../components/user/DeleteUser\";\r\nimport UserPosts from \"../../components/user/UserPosts\";\r\n\r\n// Personal modules import\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport { read } from \"../../logic/user/apiUser\";\r\nimport defaultProfilePic from \"../../images/default-image.png\";\r\nimport { listUserPosts } from \"../../logic/post/apiPost\";\r\n\r\nclass Profile extends Component {\r\n  state = {\r\n    user: \"\",\r\n    redirectionSignIn: false,\r\n    posts: [],\r\n  };\r\n\r\n  init = async (userId) => {\r\n    try {\r\n      const token = isLoggedIn().token;\r\n      // console.log(`[front-end/src/user/Profile.jsx => init] : token: ${token}`)\r\n      // console.log(`[front-end/src/user/Profile.jsx => init] : userId: ${userId}`)\r\n      const data = await read(userId, token);\r\n      if (data.error) {\r\n        console.error(`[front-end/src/user/Profile.jsx => init:28] : data.error: ${data.error}`)\r\n        this.setState = {\r\n          redirectionSignIn: true,\r\n        };\r\n      } else {\r\n        // console.log(`[front-end/src/user/Profile.jsx => init:28] : data: ${data}`);\r\n        this.setState({\r\n          user: data,\r\n        });\r\n        // console.log(`[front-end/src/user/Profile.jsx => init:37] : data._id: ${data._id}.`);\r\n        this.loadPosts(data._id);\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `[front-end/src/user/Profile.jsx => init:40] : error: ${error}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  loadPosts = (userId) => {\r\n    const token = isLoggedIn().token;\r\n    listUserPosts(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        this.setState({ posts: data });\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    try {\r\n      const userId = this.props.match.params.userId;\r\n      // console.log(`[front-end/src/user/Profile.jsx => componentDidMount] userId: ${userId}`);\r\n      if (userId) {\r\n        this.init(userId);\r\n      } else {\r\n        console.error(\"No userId found.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Something went wrong with componentDidMount method.\");\r\n    }\r\n  };\r\n\r\n  componentWillReceiveProps(props) {\r\n    try {\r\n      const userId = props.match.params.userId;\r\n      if (userId) {\r\n        this.init(userId);\r\n      } else {\r\n        console.error(\"No userId found.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        \"Something went wrong with componentWillReceiveProps method.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { redirectionSignIn, user, posts } = this.state;\r\n    const { _id, pseudo, email, photo, about, created, role, hobbies } = user;\r\n    // console.log('user.about dans render de Profile: ', user.about);\r\n    // console.log('user dans render de Profile: ', user);\r\n    if (redirectionSignIn) {\r\n      return <Redirect to=\"/signin\" />;\r\n    }\r\n\r\n    if (photo) {\r\n      const photoUrl = _id\r\n        ? `${\r\n            process.env.REACT_APP_API_URI\r\n          }/user/photo/${_id}?${new Date().getTime()}`\r\n        : defaultProfilePic;\r\n\r\n      return (\r\n        <div className=\"container jumbotron\">\r\n          <h3 className=\"mb-5\">{pseudo}</h3>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4\">\r\n              <img\r\n                style={{ height: \"300px\", width: \"auto\", borderRadius: \"25%\", boxShadow: \"3px 3px 10px grey\" }}\r\n                className=\"img-thumbnail\"\r\n                src={photoUrl}\r\n                onError={(img) => (img.target.src = `${defaultProfilePic}`)}\r\n                alt={pseudo}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-md-8\">\r\n              <div className=\"lead mt-2\">\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Inscription :&nbsp;</p>\r\n                  <p>{` ${new Date(created).toLocaleDateString('fr-FR')}`}</p>\r\n                </div>\r\n\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Email :&nbsp;</p>\r\n                  <p>{email}</p>\r\n                </div>\r\n\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Rôle favori :&nbsp;</p>\r\n                  <p>{role}</p>\r\n                </div>\r\n\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Loisirs :&nbsp;</p>\r\n                  <p>{hobbies}</p>\r\n                </div>\r\n              </div>\r\n\r\n              {isLoggedIn().user && isLoggedIn().user._id === _id && (\r\n                <div className=\"d-inline-block\">\r\n                  <Link\r\n                    to={`/post/create`}\r\n                    className=\"btn btn-raised btn-info mr-5 mb-3\"\r\n                  >\r\n                    Poster un message\r\n                  </Link>\r\n                  <Link\r\n                    to={`/user/edit/${_id}`}\r\n                    className=\"btn btn-raised btn-success mr-5 mb-3\"\r\n                  >\r\n                    Modifier les informations\r\n                  </Link>\r\n                  <DeleteUser userId={_id} />\r\n                </div>\r\n              )}\r\n              <div>\r\n                {isLoggedIn().user &&\r\n                  isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE && (\r\n                    <div\r\n                      className=\"card mt-5 jumbotron\"\r\n                      style={{\r\n                        boxShadow: \"3px 3px 10px grey\",\r\n                        borderRadius: \"10%\", \r\n                        backgroundColor:\"#D9D9D9\",\r\n                        padding: \"32px\"\r\n\r\n                      }}\r\n                    >\r\n                      <div className=\"card-body\">\r\n                        <h5\r\n                          className=\"card-title mb-3\"\r\n                          style={{ color: \"#9662E3\", fontWeight: \"bold\" }}\r\n                        >\r\n                          Interface du Roi des Pirates\r\n                        </h5>\r\n                        <Link\r\n                          className=\"btn btn-raised btn-light mr-5 font-weight-bold\"\r\n                          to={`/user/edit/${_id}`}\r\n                          style={{color: \"black\"}}\r\n                        >\r\n                          Modifier en tant que Roi\r\n                        </Link>\r\n                        <DeleteUser userId={_id} />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 mt-5\">\r\n              <hr />\r\n              <p className=\"lead\" style={{ fontWeight: \"bold\" }}>\r\n                A propos de moi :&nbsp;\r\n              </p>\r\n              <p className=\"lead\">{about}</p>\r\n              <hr />\r\n\r\n              <UserPosts posts={posts} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"container\">\r\n          <h3 className=\"mb-5 mt-5\">{pseudo}</h3>\r\n          <div className=\"row\">\r\n          <div className=\"col-md-4\">\r\n              <img\r\n                style={{ height: \"300px\", width: \"auto\", borderRadius: \"25%\" }}\r\n                className=\"img-thumbnail\"\r\n                src={`${defaultProfilePic}`}\r\n                onError={(img) => (img.target.src = `${defaultProfilePic}`)}\r\n                alt={pseudo}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-md-8\">\r\n              <div className=\"lead mt-2\">\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Inscription :&nbsp;</p>\r\n                  <p>{` ${new Date(created).toLocaleDateString('fr-FR')}`}</p>\r\n                </div>\r\n\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Email :&nbsp;</p>\r\n                  <p>{email}</p>\r\n                </div>\r\n\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Rôle favori :&nbsp;</p>\r\n                  <p>{role}</p>\r\n                </div>\r\n\r\n                <div className=\"container row\">\r\n                  <p style={{ fontWeight: \"bold\" }}>Loisirs :&nbsp;</p>\r\n                  <p>{hobbies}</p>\r\n                </div>\r\n              </div>\r\n              {isLoggedIn().user && isLoggedIn().user._id === _id && (\r\n                <div className=\"d-inline-block\">\r\n                  <Link\r\n                    to={`/post/create`}\r\n                    className=\"btn btn-raised btn-info mr-5 mb-3\"\r\n                  >\r\n                    Poster un message\r\n                  </Link>\r\n                  <Link\r\n                    to={`/user/edit/${_id}`}\r\n                    className=\"btn btn-raised btn-success mr-5 mb-3\"\r\n                  >\r\n                    Modifier les informations\r\n                  </Link>\r\n                  <DeleteUser userId={_id} />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 mt-5\">\r\n              <hr />\r\n              <p className=\"lead\">{about}</p>\r\n              <hr />\r\n\r\n              <UserPosts posts={posts} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","/* eslint-disable no-useless-escape */\r\n// Navite modules import\r\nimport React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport { read, updateUser, updateInfo } from \"../../logic/user/apiUser\";\r\nimport defaultProfilePic from \"../../images/default-image.png\";\r\n\r\nclass EditProfile extends Component {\r\n  state = {\r\n    id: \"\",\r\n    pseudo: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    about: \"\",\r\n    role: \"\",\r\n    hobbies: \"\",\r\n    redirectionProfile: false,\r\n    error: \"\",\r\n    fileSize: 0,\r\n    loading: false,\r\n  };\r\n\r\n  init = async (userId) => {\r\n    try {\r\n      const token = isLoggedIn().token;\r\n      const data = await read(userId, token);\r\n      if (data.error) {\r\n        this.setState = {\r\n          redirectionProfile: true,\r\n        };\r\n      } else {\r\n        // console.log(\"[front-end/src/user/EditProfile => init => data: \", data);\r\n        this.setState({\r\n          id: data._id,\r\n          pseudo: data.pseudo,\r\n          email: data.email,\r\n          about: data.about, // this used to be data.about || \"\" (don't rembember why I wrote it as such, maybe this will solve my bug of the bio not being rendered)\r\n          role: data.role,\r\n          hobbies: data.hobbies,\r\n          error: \"\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `The init method encountered the following error: ${error}`\r\n      );\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.userData = new FormData();\r\n    try {\r\n      const userId = this.props.match.params.userId;\r\n      if (userId) {\r\n        this.init(userId);\r\n      } else {\r\n        console.error(\"No userId found.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Something went wrong with componentDidMount method.\");\r\n    }\r\n  }\r\n\r\n  handleChange = (name) => (event) => {\r\n    this.setState({ error: \"\" });\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n    this.userData.set(name, value);\r\n    this.setState({\r\n      [name]: value,\r\n      fileSize,\r\n    });\r\n  };\r\n\r\n  isValid = () => {\r\n    const {\r\n      pseudo,\r\n      email,\r\n      password,\r\n      fileSize,\r\n      about,\r\n      hobbies,\r\n      role,\r\n    } = this.state;\r\n    if (\r\n      pseudo.length === 0 &&\r\n      email.length === 0 &&\r\n      password.length === 0 &&\r\n      about.length === 0 &&\r\n      hobbies.length === 0 &&\r\n      role.length === 0\r\n    ) {\r\n      this.setState({\r\n        loading: false,\r\n        error: \"Il n'y a rien à changer, là, moussaillon !\",\r\n      });\r\n      return false;\r\n    } else {\r\n      if (fileSize > 1000000) {\r\n        this.setState({\r\n          loading: false,\r\n          error: \"Le poids du fichier ne doit pas dépasser 1Mb ! Déconne pas !\",\r\n        });\r\n        return false;\r\n      }\r\n      if (pseudo.length >= 1 && (pseudo.length < 4 || pseudo.length > 30)) {\r\n        this.setState({\r\n          loading: false,\r\n          error:\r\n            \"Ton pseudo doit faire entre 4 et 30 caractères, marin d'eau douce !\",\r\n        });\r\n        return false;\r\n      }\r\n      if (\r\n        password.length >= 1 &&\r\n        !/^(?=(?:[^A-Z]*[A-Z]){1,}(?![^A-Z]*[A-Z]))(?=(?:[^a-z]*[a-z]){1,}(?![^a-z]*[a-z]))(?=(?:[^0-9]*[0-9]){1,}(?![^0-9]*[0-9]))(?=(?:[^!'#\\$%&'\\(\\)\\*\\+,-\\.\\/:;<=>\\?@[\\]\\^_`\\{\\|}~]*[!'#\\$%&'\\(\\)\\*\\+,-\\.\\/:;<=>\\?@[\\]\\^_`\\{\\|}~]){1,}(?![^!'#\\$%&'\\(\\)\\*\\+,-\\.\\/:;<=>\\?@[\\]\\^_`\\{\\|}~]*[!'#\\$%&'\\(\\)\\*\\+,-\\.\\/:;<=>\\?@[\\]\\^_`\\{\\|}~])).{8,}$/.test(\r\n          password\r\n        )\r\n      ) {\r\n        this.setState({\r\n          loading: false,\r\n          error:\r\n            \"Ton mot de passe doit contenir au moins 8 caractères dont une lettre minuscule, une lettre majuscule, un chiffre et un caractère spécial.\",\r\n        });\r\n        return false;\r\n      }\r\n      if (\r\n        email.length >= 1 &&\r\n        !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n          email\r\n        )\r\n      ) {\r\n        this.setState({\r\n          loading: false,\r\n          error:\r\n            \"Tu dois renseigner une adresse de courrier électronique valide, moussailon !\",\r\n        });\r\n        return false;\r\n      }\r\n      if (about.length > 300) {\r\n        this.setState({\r\n          loading: false,\r\n          error: `Tu te présentes, moussaillon, tu ne rédiges pas ta biographie ! Pas plus de 300 caractères !`,\r\n        });\r\n        return false;\r\n      }\r\n      if (hobbies.length > 300) {\r\n        this.setState({\r\n          loading: false,\r\n          error: `Juste tes hobbies, moussaillon, pas ta vie entière ! Pas plus de 300 caractères !`,\r\n        });\r\n        return false;\r\n      }\r\n      if (role.length > 50) {\r\n        this.setState({\r\n          loading: false,\r\n          error: `Ton rôle, moussaillon, sois concis et précis ! Pas plus de 50 caractères !`,\r\n        });\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  };\r\n\r\n  updateSubmit = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ loading: true });\r\n    if (this.isValid()) {\r\n      const userId = this.props.match.params.userId;\r\n      const token = isLoggedIn().token;\r\n      // console.log(\r\n      //   `[front-end/src/user/EditProfile => updateSubmit:180] => userId: ${userId} and token: ${token} and this.userData: ${this.userData}`\r\n      // );\r\n      const data = await updateUser(userId, token, this.userData);\r\n      // console.info(`[front-end/src/user/EditProfile => updateSubmit => after updateUser:183]: data: ${data}`)\r\n      if (data.error) {\r\n        this.setState({ error: data.error });\r\n      } else if (isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE) {\r\n        this.setState({ redirectionProfile: true })\r\n      } else {\r\n        // console.info(`[front-end/src/user/EditProfile => updateSubmit => before updateInfo:190]: data: ${data}`)\r\n        updateInfo(data, () => {\r\n          this.setState({ redirectionProfile: true });\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  updateForm = (pseudo, email, password, about, role, hobbies) => (\r\n    <form action=\"\">\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Photo de profil (ou de face...)</label>\r\n        <input\r\n          onChange={this.handleChange(\"photo\")}\r\n          type=\"file\"\r\n          name=\"photo\"\r\n          accept=\"image/*\"\r\n          className=\"form-control\"\r\n        />\r\n        <small id=\"pictureHelp\" className=\"form-text text-muted\">\r\n          Sélectionnez de préférence une photo carrée (exemple : 400px * 400px)\r\n        </small>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Pseudo</label>\r\n        <input\r\n          onChange={this.handleChange(\"pseudo\")}\r\n          type=\"text\"\r\n          name=\"pseudo\"\r\n          className=\"form-control\"\r\n          value={pseudo}\r\n          placeholder=\"Laisser vide pour conserver le pseudo actuel.\"\r\n          autoFocus\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">E-mail</label>\r\n        <input\r\n          onChange={this.handleChange(\"email\")}\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          placeholder=\"Laisser vide pour conserver l'e-mail actuel.\"\r\n        />\r\n        <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n          Votre e-mail ne sera partagé avec aucune tierse partie\r\n        </small>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Mot de passe</label>\r\n        <input\r\n          onChange={this.handleChange(\"password\")}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          placeholder=\"Laisser vide pour conserver le mot de passe actuel.\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Bio</label>\r\n        <textarea\r\n          onChange={this.handleChange(\"about\")}\r\n          type=\"text\"\r\n          name=\"about\"\r\n          className=\"form-control\"\r\n          value={about}\r\n          placeholder=\"Raconte-nous ton histoire, flibustier ! Ou raconte des conneries, c'est toi qui vois...\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Rôle favori</label>\r\n        <textarea\r\n          onChange={this.handleChange(\"role\")}\r\n          type=\"text\"\r\n          name=\"role\"\r\n          className=\"form-control\"\r\n          value={role}\r\n          placeholder=\"Quel rôle préfères-tu assurer, moussaillon ? Les canons ou la chair à canon ?\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Loisirs</label>\r\n        <textarea\r\n          onChange={this.handleChange(\"hobbies\")}\r\n          type=\"text\"\r\n          name=\"hobbies\"\r\n          className=\"form-control\"\r\n          value={hobbies}\r\n          placeholder=\"As-tu d'autres hobbies à part voler, piller et boire du rhum, pirate ?\"\r\n        />\r\n      </div>\r\n      <button\r\n        onClick={this.updateSubmit}\r\n        type=\"submit\"\r\n        className=\"btn btn-raised btn-primary\"\r\n      >\r\n        Modifier\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      pseudo,\r\n      email,\r\n      password,\r\n      about,\r\n      role,\r\n      hobbies,\r\n      redirectionProfile,\r\n      error,\r\n      loading,\r\n    } = this.state;\r\n    if (redirectionProfile) {\r\n      return <Redirect to={`/user/${id}`} />;\r\n    }\r\n\r\n    const photoUri = id\r\n      ? `${\r\n          process.env.REACT_APP_API_URI\r\n        }/user/photo/${id}?${new Date().getTime()}`\r\n      : `${defaultProfilePic}`;\r\n\r\n    if (photoUri) {\r\n      return (\r\n        <div className=\"container\">\r\n          <h2 className=\"mt-5 mb-5\">Modifier les informations du compte</h2>\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n          {loading ? (\r\n            <div className=\"jumbotron text-center\">\r\n              <h3>Chargement...</h3>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n  \r\n          <img\r\n            style={{ height: \"200px\", width: \"auto\" }}\r\n            className=\"img-thumbnail\"\r\n            src={photoUri}\r\n            onError={(img) => (img.target.src = `${defaultProfilePic}`)}\r\n            alt={pseudo}\r\n          />\r\n          {/* {console.log('user.right', isLoggedIn().user.right)} */}\r\n          {(isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE ||\r\n            isLoggedIn().user._id === id) &&\r\n              this.updateForm(pseudo, email, password, about, role, hobbies)}\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"container\">\r\n          <h2 className=\"mt-5 mb-5\">Modifier les informations du compte</h2>\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n          {loading ? (\r\n            <div className=\"jumbotron text-center\">\r\n              <h3>Chargement...</h3>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n  \r\n          <img\r\n            style={{ height: \"200px\", width: \"auto\" }}\r\n            className=\"img-thumbnail\"\r\n            src={photoUri}\r\n            onError={(img) => (img.target.src = `${defaultProfilePic}`)}\r\n            alt={pseudo}\r\n          />\r\n          {/* {console.log('user.right', isLoggedIn().user.right)} */}\r\n          {(isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE ||\r\n            isLoggedIn().user._id === id) &&\r\n              this.updateForm(pseudo, email, password, about, role, hobbies)}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default EditProfile;\r\n","export default __webpack_public_path__ + \"static/media/beautiful-sea.b2ff0d6e.jpg\";","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { postsPerPage } from \"../../logic/post/apiPost\";\r\nimport defaultPostPic from \"../../images/beautiful-sea.jpg\";\r\n\r\nclass Posts extends Component {\r\n  state = {\r\n    posts: [],\r\n    page: 1,\r\n  };\r\n\r\n  loadPosts = async (page) => {\r\n    try {\r\n      const allPosts = await postsPerPage(page);\r\n      // console.log('allPosts in loadPosts in Post.jsx', allPosts)\r\n      // console.log('type of allPosts in loadPosts in Post.jsx', typeof allPosts)\r\n      if (allPosts) {\r\n        this.setState({\r\n          posts: allPosts,\r\n        });\r\n      } else {\r\n        console.error(\r\n          `No posts were retrieved from the server because of error.`\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `Couldn't change state of posts because of error: ${error}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  showMorePosts = (num) => {\r\n    this.setState({ page: this.state.page + 1 });\r\n    this.loadPosts(this.state.page + num);\r\n  };\r\n\r\n  showLessPosts = (num) => {\r\n    this.setState({ page: this.state.page - 1 });\r\n    this.loadPosts(this.state.page - num);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadPosts(this.state.page);\r\n  }\r\n\r\n  renderPosts = (posts) => {\r\n    // console.log(\"posts.length\", posts.length);\r\n    return (\r\n      <div className=\"row\" style={{ justifyContent: \"center\" }}>\r\n        {posts.map((post, i) => {\r\n          const posterProfile = post.author ? `/user/${post.author._id}` : \"/posts\";\r\n          const posterPseudo = post.author ? post.author.pseudo : \"un Inconnu\";\r\n\r\n          return (\r\n            <div\r\n              className=\"card card-block col-sm-12 col-md-6 col-lg-4 col-xl-3\"\r\n              key={i}\r\n              style={{\r\n                backgroundColor: \"#D9D9D9\",\r\n                marginRight: \"30px\",\r\n                marginBottom: \"30px\",\r\n                boxShadow: \"3px 3px 5px grey\",\r\n                width: \"300px\",\r\n                borderRadius: \"3%\"\r\n              }}\r\n            >\r\n              <div className=\"card-body text-center\" key={i}>\r\n                <img\r\n                  className=\"img-thumbnail mb-3\"\r\n                  style={{ height: \"auto\", width: \"auto\", boxShadow: \"3px 3px 10px grey\" }}\r\n                  src={`${process.env.REACT_APP_API_URI}/post/photo/${post._id}`}\r\n                  alt={post.title}\r\n                  onError={(img) => (img.target.src = `${defaultPostPic}`)}\r\n                />\r\n              </div>\r\n              <hr />\r\n              <h5 className=\"card-title text-center font-weight-bold mb-3\">\r\n                {post.title}\r\n              </h5>\r\n              <p className=\"card-text text-justify mb-5\">\r\n                {post.body.substring(0, 100)}\r\n              </p>\r\n              <p className=\"font-italic mb-0\">\r\n                Posté par <Link to={posterProfile} style={{color: \"#3BA7BF\"}}>{posterPseudo}</Link> le{\" \"}\r\n                {new Date(post.created).toLocaleDateString('fr-FR')}\r\n              </p>\r\n              <Link\r\n                to={`/post/${post._id}`}\r\n                className=\"btn btn-lg btn-block btn-outline-success text-center font-weight-bold mb-3\"\r\n              >\r\n                Lire plus\r\n              </Link>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { posts, page } = this.state;\r\n    return (\r\n      <div className=\"jumbotron\">\r\n        <h2 className=\"mt-3 mb-5 text-center\" style={{ fontWeight: \"bold\" }}>\r\n          {!posts.length\r\n            ? \"Rien à afficher pour le moment...\"\r\n            : \"Messages des Pirates de la Taverne des Soiffards\"}\r\n        </h2>\r\n        {this.renderPosts(posts)}\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col text-right\">\r\n            {page > 1 ? (\r\n              <button\r\n                className=\"btn btn-raised btn-info mt-5 mb-5\"\r\n                onClick={() => this.showLessPosts(1)}\r\n                style={{ boxShadow: \"3px 3px 5px grey\" }}\r\n              >\r\n                Page précédente\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"col text-left\">\r\n            {(posts.length > page && posts.length === Number(process.env.REACT_APP_PER_PAGE)) ? (\r\n              <button\r\n                className=\"btn btn-raised btn-info mt-5 mb-5\"\r\n                onClick={() => this.showMorePosts(1)}\r\n                style={{ boxShadow: \"3px 3px 5px grey\" }}\r\n              >\r\n                Page suivante\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Posts;\r\n","/* eslint-disable no-useless-escape */\r\n// Navite modules import\r\nimport React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport { createPost } from \"../../logic/post/apiPost\";\r\n\r\nclass NewPost extends Component {\r\n  state = {\r\n    title: \"\",\r\n    body: \"\",\r\n    photo: \"\",\r\n    error: \"\",\r\n    user: {},\r\n    fileSize: 0,\r\n    loading: false,\r\n    redirectionProfile: false,\r\n  };\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   this.state = {\r\n  //     title: \"\",\r\n  //     body: \"\",\r\n  //     photo: \"\",\r\n  //     error: \"\",\r\n  //     user: {},\r\n  //     fileSize: 0,\r\n  //     loading: false,\r\n  //     redirectionProfile: false,\r\n  //   };\r\n  // }\r\n\r\n  componentDidMount() {\r\n    this.postData = new FormData();\r\n    try {\r\n      this.setState({\r\n        user: isLoggedIn().user,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Something went wrong with componentDidMount method.\");\r\n    }\r\n  }\r\n\r\n  handleChange = (name) => (event) => {\r\n    this.setState({ error: \"\" });\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    const fileSize =\r\n      name === \"photo\" ? event.target.files[0].size : 0;\r\n    this.postData.set(name, value);\r\n    this.setState({\r\n      [name]: value,\r\n      fileSize,\r\n    });\r\n  };\r\n\r\n  isValid = () => {\r\n    const { title, body, fileSize } = this.state;\r\n    if (fileSize > 1000000) {\r\n      this.setState({\r\n        loading: false,\r\n        error: \"Le poids du fichier ne doit pas dépasser 1Mb ! Déconne pas !\",\r\n      });\r\n      return false;\r\n    }\r\n    if (title.length === 0 || title.length > 50) {\r\n      this.setState({\r\n        loading: false,\r\n        error:\r\n          \"Le titre est requis et doit faire moins de 50 caractères, marin d'eau douce !\",\r\n      });\r\n      return false;\r\n    }\r\n    if (body.length === 0) {\r\n      this.setState({\r\n        loading: false,\r\n        error: `Un message est requis pour envoyer un... message, moussaillon.`,\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  postSubmit = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ loading: true });\r\n    \r\n    if (this.isValid()) {\r\n      const userId = isLoggedIn().user._id;\r\n      const token = isLoggedIn().token;\r\n      const data = await createPost(userId, token, this.postData);\r\n      if (data.error) {\r\n        this.setState({ error: data.error });\r\n      } else {\r\n        this.setState({\r\n          loading: false,\r\n          title: \"\",\r\n          body: \"\",\r\n          photo: \"\",\r\n          redirectionProfile: true\r\n        })\r\n      }\r\n    }\r\n  };\r\n\r\n  postForm = (title, body) => (\r\n    <form action=\"\">\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Image</label>\r\n        <input\r\n          onChange={this.handleChange(\"photo\")}\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Titre</label>\r\n        <input\r\n          onChange={this.handleChange(\"title\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={title}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Message</label>\r\n        <textarea\r\n          onChange={this.handleChange(\"body\")}\r\n          type=\"body\"\r\n          className=\"form-control\"\r\n          value={body}\r\n        />\r\n      </div>\r\n      <button\r\n        onClick={this.postSubmit}\r\n        type=\"submit\"\r\n        className=\"btn btn-raised btn-primary\"\r\n      >\r\n        Envoyer\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      body,\r\n      user,\r\n      error,\r\n      loading,\r\n      redirectionProfile\r\n    } = this.state;\r\n\r\n    if (redirectionProfile) {\r\n      return <Redirect to={`/user/${user._id}`} />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"mt-5 mb-5\">Ecrire un message</h2>\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n          {error}\r\n        </div>\r\n        {loading ? (\r\n          <div className=\"jumbotron text-center\">\r\n            <h3>Chargement...</h3>\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        {this.postForm(title, body)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewPost;\r\n","// Native modules import\r\nimport React, { Component, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { writeComment, deleteComment } from \"../../logic/post/apiPost\";\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport defaultProfilePic from \"../../images/default-image.png\";\r\n\r\nclass WriteComment extends Component {\r\n  state = {\r\n    message: \"\",\r\n    error: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      error: \"\",\r\n    });\r\n    this.setState({\r\n      message: event.target.value,\r\n    });\r\n  };\r\n\r\n  isValid = () => {\r\n    const { message } = this.state;\r\n    if (!message.length > 0 || message.length > 300) {\r\n      this.setState({\r\n        error:\r\n          \"Ton commentaire doit être d'au moins 1 caractère et d'au plus 300 caractères, moussaillon !\",\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  addComment = async (event) => {\r\n    event.preventDefault();\r\n    const userId = isLoggedIn().user._id;\r\n    const token = isLoggedIn().token;\r\n    const postId = this.props.postId;\r\n    const comment = { message: this.state.message };\r\n\r\n    if (!isLoggedIn()) {\r\n      this.setState({\r\n        error: \"Tu dois être connecté pour écrire un commentaire, pirate !\",\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (this.isValid()) {\r\n      try {\r\n        const response = await writeComment(userId, token, postId, comment);\r\n        if (response.error) {\r\n          console.log(\r\n            `[front-end/src/components/post/WriteComment.jsx => addComment] : response.error: ${JSON.stringify(\r\n              response.error\r\n            )}`\r\n          );\r\n        } else {\r\n          this.setState({\r\n            message: \"\",\r\n          });\r\n          this.props.updateComments(response.comments);\r\n        }\r\n      } catch (error) {\r\n        console.error(\r\n          `[front-end/src/components/post/WriteComment.jsx => addComment] : error: ${error}`\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  removeComment = async (comment) => {\r\n    const userId = isLoggedIn().user._id;\r\n    const token = isLoggedIn().token;\r\n    const postId = this.props.postId;\r\n    try {\r\n      console.log(`[front-end/src/components/post/WriteComment.jsx => removeComment] : userId: ${userId}, token: ${token}, postId: ${postId}`);\r\n      const response = await deleteComment(userId, token, postId, comment);\r\n      if (response.error) {\r\n        console.log(response.error);\r\n      } else {\r\n        this.props.updateComments(response.comments);\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `[front-end/src/components/post/WriteComment.jsx => removeComment] : error: ${error}`\r\n      );\r\n    }\r\n  };\r\n\r\n  deleteConfirmation = (comment) => {\r\n    let answer = window.confirm(\r\n      \"Es-tu sûr de vouloir supprimer ton message, pirate ?\"\r\n    );\r\n    if (answer) {\r\n      console.log('inside deleteConfirmation')\r\n      this.removeComment(comment);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { comments, postId } = this.props;\r\n    const { message, error } = this.state;\r\n\r\n    return (\r\n      <div className=\"container jumbotron\">\r\n        <h2 className=\"mb-5\">Donne ton avis sur ce message, moussaillon !</h2>\r\n        <div className=\"form-group\">\r\n          <form action=\"\" onSubmit={this.addComment}>\r\n            <input\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={this.handleChange}\r\n              placeholder=\"Ecris ici ton avis, bachi-bouzouk...\"\r\n            />\r\n            <button type=\"submit\" className=\"btn btn-raised btn-success mt-2\">\r\n              Envoyer\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n          {error}\r\n        </div>\r\n        {/* {JSON.stringify(comments)} */}\r\n        <div className=\"col-md-12\">\r\n          <h3 className=\"text-success mb-4 mt-4\">\r\n            {comments.length}{\" \"}Commentaire{comments.length <= 1 ? \"\" : \"s\"}\r\n          </h3>\r\n          {comments.reverse().map((comment, i) => {\r\n            let commentatorProfile;\r\n            if (typeof comment.author?.pseudo === \"string\") {\r\n              commentatorProfile = comment.author?._id\r\n                ? `/user/${comment.author._id}`\r\n                : \"\";\r\n            }\r\n            const commentatorPseudo = comment.author?.pseudo\r\n              ? comment.author.pseudo\r\n              : \"un Inconnu\";\r\n            return (\r\n              <div key={i}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\" style={{ padding: 0 }}>\r\n                    <Link to={`/user/${comment.author._id}`}>\r\n                      <img\r\n                        style={{\r\n                          borderRadius: \"50%\",\r\n                          border: \"1px solid black\",\r\n                        }}\r\n                        className=\"float-left mr-2\"\r\n                        height=\"30px\"\r\n                        width=\"30px\"\r\n                        onError={(img) =>\r\n                          (img.target.src = `${defaultProfilePic}`)\r\n                        }\r\n                        src={`${process.env.REACT_APP_API_URI}/user/photo/${comment.author._id}`}\r\n                        alt={commentatorPseudo}\r\n                      />\r\n                    </Link>\r\n                    <p className=\"lead\">\r\n                      {comment.message}\r\n                    </p>\r\n                  </div>\r\n                  <p\r\n                    className=\"font-italic\"\r\n                    style={{ fontSize: \"0.7rem\", margin: 0 }}\r\n                  >\r\n                    Posté par{\" \"}\r\n                    <Link\r\n                      to={\r\n                        typeof commentatorPseudo === \"string\"\r\n                          ? commentatorProfile\r\n                          : `/post/${postId}`\r\n                      }\r\n                      style={{ color: \"#3BA7BF\" }}\r\n                    >\r\n                      {commentatorPseudo}\r\n                    </Link>{\" \"}\r\n                    le {new Date(comment.created).toLocaleDateString()}\r\n                    {isLoggedIn().user &&\r\n                      isLoggedIn().user._id === comment.author?._id && (\r\n                        <Fragment>\r\n                          <button\r\n                            className=\"btn btn-raised btn-sm btn-danger ml-5\"\r\n                            style={{\r\n                              fontSize: \"0.9rem\",\r\n                              marginBottom: \"15px\",\r\n                              cursor: \"pointer\",\r\n                            }}\r\n                            onClick={() => this.deleteConfirmation(comment)}\r\n                          >\r\n                            Supprimer\r\n                          </button>\r\n                        </Fragment>\r\n                      )}\r\n                      {/* {console.log('user.right', isLoggedIn().user.right)} */}\r\n                      {/* {console.log('ADMIN_TITLE', process.env.REACT_APP_ADMIN_TITLE)} */}\r\n                    {isLoggedIn().user &&\r\n                      isLoggedIn().user.right ===\r\n                        process.env.REACT_APP_ADMIN_TITLE && (\r\n                        <Fragment>\r\n                          <button\r\n                            className=\"btn btn-raised btn-dark font-weight-bold ml-5 btn-sm\"\r\n                            style={{\r\n                              fontSize: \"0.9rem\",\r\n                              marginBottom: \"15px\",\r\n                              cursor: \"pointer\",\r\n                            }}\r\n                            onClick={() => this.deleteConfirmation(comment)}\r\n                          >\r\n                            Supprimer en tant que Roi\r\n                          </button>\r\n                        </Fragment>\r\n                      )}\r\n                  </p>\r\n                </div>\r\n                <hr />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WriteComment;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { viewPost, remove } from \"../../logic/post/apiPost\";\r\nimport defaultPostPic from \"../../images/beautiful-sea.jpg\";\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport WriteComment from \"../../components/post/WriteComment\";\r\n\r\nclass OnePost extends Component {\r\n  state = {\r\n    post: \"\",\r\n    comments: [],\r\n\r\n    redirectionPosts: false,\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    const postId = this.props.match.params.postId;\r\n    const onePost = await viewPost(postId);\r\n    // console.log(\"onePost dans componentDidMount\", onePost);\r\n    if (onePost.error) {\r\n      console.log(`An error happened when getting the post information.`);\r\n    } else {\r\n      this.setState({\r\n        post: onePost,\r\n        comments: onePost.comments,\r\n      });\r\n    }\r\n  };\r\n\r\n  updateComments = (comments) => {\r\n    this.setState({ comments });\r\n  };\r\n\r\n  deleteConfirmation = () => {\r\n    let answer = window.confirm(\r\n      \"Es-tu sûr de vouloir supprimer ton message, moussaillon ?\"\r\n    );\r\n    if (answer) {\r\n      this.deletePost();\r\n    }\r\n  };\r\n\r\n  deletePost = async () => {\r\n    try {\r\n      const postId = this.props.match.params.postId;\r\n      const token = isLoggedIn().token;\r\n      const response = await remove(postId, token);\r\n      // console.log(`dans la méthode deletePost de OnePost: response: ${response}, postId: ${postId}, token: ${token}`);\r\n      if (response.error) {\r\n        console.log(`The response couldn't be retrieved from the server. `);\r\n      } else {\r\n        this.setState({\r\n          redirectionPosts: true,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `The deletePost method encountered the following error: ${error}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  renderPost = (post) => {\r\n    let posterId;\r\n    if (typeof post.author === \"string\") {\r\n      posterId = post.author ? `/user/${post.author._id}` : \"\";\r\n    }\r\n    const posterPseudo = post.author ? post.author.pseudo : \"un Inconnu\";\r\n\r\n    return (\r\n      <div className=\"card col-12\" style={{ backgroundColor: \"#D9D9D9\" }}>\r\n        <div className=\"card-body text-center\">\r\n          <img\r\n            src={`${process.env.REACT_APP_API_URI}/post/photo/${\r\n              post._id\r\n            }?${new Date().getTime()}`}\r\n            onError={(img) => (img.target.src = `${defaultPostPic}`)}\r\n            className=\"img-thumbnail mb-3\"\r\n            style={{\r\n              height: \"auto\",\r\n              width: \"auto\",\r\n              objectFit: \"cover\",\r\n              boxShadow: \"3px 3px 10px grey\",\r\n            }}\r\n            alt={post.title}\r\n          />\r\n        </div>\r\n        <hr />\r\n        <h2 className=\"mt-3 mb-3 display-2 text-center\">{post.title}</h2>\r\n        <p className=\"card-text text-justify lead\" style={{ padding: \"20px\" }}>\r\n          {post.body}\r\n        </p>\r\n        <p className=\"font-italic\">\r\n          Posté par{\" \"}\r\n          <Link\r\n            to={\r\n              typeof post.author === \"string\" ? posterId : `/post/${post._id}`\r\n            }\r\n            style={{ color: \"#3BA7BF\" }}\r\n          >\r\n            {posterPseudo}\r\n          </Link>{\" \"}\r\n          le {new Date(post.created).toLocaleDateString('fr-FR')}\r\n        </p>\r\n        <div className=\"inline-block\">\r\n          <Link\r\n            to={`/posts`}\r\n            className=\"btn btn-lg btn-block btn-outline-success text-center font-weight-bold\"\r\n            style={{\r\n              fontWeight: \"bold\",\r\n              fontSize: \"1.1rem\",\r\n              marginBottom: \"15px\",\r\n            }}\r\n          >\r\n            Retour aux messages\r\n          </Link>\r\n          {isLoggedIn().user && isLoggedIn().user._id === post.author?._id && (\r\n            <>\r\n              <Link\r\n                to={`/post/edit/${post._id}`}\r\n                className=\"btn btn-raised btn-info mr-3 btn-sm\"\r\n                style={{\r\n                  fontSize: \"0.9rem\",\r\n                  marginBottom: \"15px\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                Modifier\r\n              </Link>\r\n              <button\r\n                className=\"btn btn-raised btn-danger\"\r\n                style={{\r\n                  fontSize: \"0.9rem\",\r\n                  marginBottom: \"15px\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={this.deleteConfirmation}\r\n              >\r\n                Supprimer\r\n              </button>\r\n            </>\r\n          )}\r\n          <div>\r\n            {isLoggedIn().user &&\r\n              isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE && (\r\n                <div\r\n                  className=\"card mt-5 jumbotron\"\r\n                  style={{\r\n                    boxShadow: \"3px 3px 10px grey\",\r\n                    borderRadius: \"10%\",\r\n                    backgroundColor: \"#D9D9D9\",\r\n                    padding: \"32px\",\r\n                  }}\r\n                >\r\n                  <div className=\"card-body\">\r\n                    <h5\r\n                      className=\"card-title mb-3\"\r\n                      style={{ color: \"#9662E3\", fontWeight: \"bold\" }}\r\n                    >\r\n                      Interface du Roi des Pirates\r\n                    </h5>\r\n                    {post.author?._id && (\r\n                      <Link\r\n                        to={`/post/edit/${post._id}`}\r\n                        className=\"btn btn-raised btn-light mr-5 font-weight-bold\"\r\n                        style={{color: \"black\"}}\r\n                      >\r\n                        Modifier en tant que Roi\r\n                      </Link>\r\n                    )}\r\n                    <button\r\n                      onClick={this.deleteConfirmation}\r\n                      className=\"btn btn-raised btn-dark font-weight-bold\"\r\n                    >\r\n                      Supprimer en tant que Roi\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { post, redirectionPosts, comments } = this.state;\r\n    if (redirectionPosts) {\r\n      return <Redirect to={`/posts/`} />;\r\n    }\r\n    return (\r\n      <div className=\"jumbotron\">\r\n        {!post ? (\r\n          <div className=\"jumbotron text-center\">\r\n            <h2>Chargement...</h2>\r\n          </div>\r\n        ) : (\r\n          this.renderPost(post)\r\n        )}\r\n        <WriteComment\r\n          postId={post._id}\r\n          comments={comments}\r\n          updateComments={this.updateComments}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OnePost;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport { viewPost, updatePost } from \"../../logic/post/apiPost\";\r\nimport defaultPostPic from \"../../images/beautiful-sea.jpg\";\r\n\r\nclass EditPost extends Component {\r\n  state = {\r\n    id: \"\",\r\n    title: \"\",\r\n    body: \"\",\r\n    redirectionProfile: false,\r\n    redirectionPosts: false,\r\n    error: \"\",\r\n    loading: false,\r\n    fileSize: 0,\r\n  };\r\n\r\n  init = async (postId) => {\r\n    // console.info(`[front-end/src/post/EditPost.jsx => init:] : postId: ${postId}`);\r\n    try {\r\n      const data = await viewPost(postId);\r\n      if (data.error) {\r\n        this.setState({\r\n          redirectionProfile: true,\r\n        });\r\n      } else {\r\n        // console.info(\r\n          // `[front-end/src/post/EditPost.jsx => init:] : data.author._id: ${data.author._id}`\r\n        // );\r\n        this.setState({\r\n          id: data.author?._id,\r\n          title: data.title,\r\n          body: data.body,\r\n          error: \"\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `[front-end/src/post/EditPost.jsx => catch:] : error:  ${error}`\r\n      );\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.postData = new FormData();\r\n    try {\r\n      const postId = this.props.match.params.postId;\r\n      if (postId) {\r\n        this.init(postId);\r\n      } else {\r\n        console.error(\"No postId found.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Something went wrong with componentDidMount method.\");\r\n    }\r\n  }\r\n\r\n  isValid = () => {\r\n    const { title, body, fileSize } = this.state;\r\n    if (fileSize > 1000000) {\r\n      this.setState({\r\n        loading: false,\r\n        error: \"Le poids du fichier ne doit pas dépasser 1Mb ! Déconne pas !\",\r\n      });\r\n      return false;\r\n    }\r\n    if (title.length === 0 || title.length > 50) {\r\n      this.setState({\r\n        loading: false,\r\n        error:\r\n          \"Le titre est requis et doit faire moins de 50 caractères, marin d'eau douce !\",\r\n      });\r\n      return false;\r\n    }\r\n    if (body.length === 0) {\r\n      this.setState({\r\n        loading: false,\r\n        error: `Un message est requis pour envoyer un... message, moussaillon.`,\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleChange = (name) => (event) => {\r\n    this.setState({ error: \"\" });\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n\r\n    const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n    this.postData.set(name, value);\r\n    this.setState({ [name]: value, fileSize });\r\n  };\r\n\r\n  submitPostUpdate = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ loading: true });\r\n\r\n    if (this.isValid()) {\r\n      const postId = this.props.match.params.postId;\r\n      const token = isLoggedIn().token;\r\n      try {\r\n        const data = await updatePost(postId, token, this.postData);\r\n        if (data.error) {\r\n          this.setState({ error: data.error });\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          title: \"\",\r\n          body: \"\",\r\n          redirectionProfile: true,\r\n        });\r\n      } catch (error) {\r\n        console.error(\r\n          `updatePost in EditPost coudldn't retrive data because of error: ${error}.`\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  postUpdateForm = (title, body) => (\r\n    <form action=\"\">\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Image</label>\r\n        <input\r\n          onChange={this.handleChange(\"photo\")}\r\n          type=\"file\"\r\n          name=\"photo\"\r\n          accept=\"image/*\"\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Titre</label>\r\n        <input\r\n          onChange={this.handleChange(\"title\")}\r\n          type=\"text\"\r\n          name=\"title\"\r\n          className=\"form-control\"\r\n          value={title}\r\n          autoFocus\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Message</label>\r\n        <textarea\r\n          onChange={this.handleChange(\"body\")}\r\n          type=\"text\"\r\n          name=\"body\"\r\n          className=\"form-control\"\r\n          value={body}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        onClick={this.submitPostUpdate}\r\n        className=\"btn btn-raised btn-primary\"\r\n      >\r\n        Envoyer\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  render() {\r\n    const { id, title, body, redirectionProfile, error, loading } = this.state;\r\n    const postId = this.props.match.params.postId;\r\n    if (redirectionProfile) {\r\n      return <Redirect to={`/post/${postId}`} />;\r\n    }\r\n    if (id) {\r\n      return (\r\n        <div>\r\n          <div className=\"card-body\">\r\n            <div\r\n              className=\"alert alert-danger\"\r\n              style={{ display: error ? \"\" : \"none\" }}\r\n            >\r\n              {error}\r\n            </div>\r\n\r\n            {loading ? (\r\n              <div className=\"jumbotron text-center\">\r\n                <h2>Loading...</h2>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <img\r\n              style={{ height: \"200px\", width: \"auto\", boxShadow: \"3px 3px 10px grey\" }}\r\n              className=\"img-thumbnail mb-3\"\r\n              src={`${process.env.REACT_APP_API_URI}/post/photo/${postId}?${new Date().getTime()}`}\r\n              onError={(img) => (img.target.src = `${defaultPostPic}`)}\r\n              alt={title}\r\n            />\r\n\r\n            <h3 className=\"card-title mt-3 mb-3\">{title}</h3>\r\n\r\n            {(isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE ||\r\n              isLoggedIn().user?._id === id) && this.postUpdateForm(title, body)}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div className=\"card-body\">\r\n            <div\r\n              className=\"alert alert-danger\"\r\n              style={{ display: error ? \"\" : \"none\" }}\r\n            >\r\n              {error}\r\n            </div>\r\n\r\n            {loading ? (\r\n              <div className=\"jumbotron text-center\">\r\n                <h2>Loading...</h2>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <img\r\n              style={{ height: \"200px\", width: \"auto\" }}\r\n              className=\"img-thumbnail mb-3\"\r\n              src={`${process.env.REACT_APP_API_URI}/post/photo/${postId}?${new Date().getTime()}`}\r\n              onError={(img) => (img.target.src = `${defaultPostPic}`)}\r\n              alt={title}\r\n            />\r\n\r\n            <h3 className=\"card-title mt-3 mb-3\">{title}</h3>\r\n\r\n            {(isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE ||\r\n              isLoggedIn().user?._id === id) && this.postUpdateForm(title, body)}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default EditPost;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\n\r\n// Personal modules import\r\nimport { forgotPassword } from \"../../logic/auth/index\";\r\n\r\nclass ForgotPassword extends Component {\r\n  state = {\r\n    email: \"\",\r\n    message: \"\",\r\n    error: \"\",\r\n  };\r\n\r\n  handleChange = (name) => (event) => {\r\n    this.setState({\r\n      error: \"\",\r\n    });\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  forgotPassword = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      message: \"\",\r\n      error: \"\",\r\n    });\r\n    try {\r\n      const data = await forgotPassword(this.state.email);\r\n      if (data.error) {\r\n        console.log(\r\n          `There is an error with the data retrieved in forgotPassword in ForgotPassword: ${data.error}.`\r\n        );\r\n        this.setState({\r\n          error: data.error,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          message: data.message,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `The method forgotPassword in ForgotPassword encountered an error of type: ${error}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { email, message, error } = this.state;\r\n    return (\r\n      <div className=\"container jumbotron\">\r\n        <h2 className=\"mt-5 mb-5\">Réinitialisation du mot de passe</h2>\r\n\r\n        {message && (\r\n          <h5 className=\"alert alert-info\">{message}</h5>\r\n        )}\r\n        {error && (\r\n          <h5 className=\"alert alert-danger\">{error}</h5>\r\n        )}\r\n\r\n        <form>\r\n          <div className=\"form-group mt-5\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"L'adresse e-mail liée à votre compte sur la Taverne des Soiffards.\"\r\n              value={email}\r\n              name=\"email\"\r\n              onChange={this.handleChange(\"email\")}\r\n              autoFocus\r\n            />\r\n          </div>\r\n          <button\r\n            onClick={this.forgotPassword}\r\n            className=\"btn btn-raised btn-primary\"\r\n          >\r\n            Envoyer le lien de réinitialisation\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForgotPassword;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\n\r\n// Personal modules import\r\nimport { resetPassword } from \"../../logic/auth/index\";\r\n\r\nclass ResetPassword extends Component {\r\n  state = {\r\n    newPassword: \"\",\r\n    message: \"\",\r\n    error: \"\",\r\n  };\r\n\r\n  handleChange = (name) => (event) => {\r\n    const newPassword = event.target.value;\r\n    this.setState({\r\n      newPassword: newPassword,\r\n      error: \"\", \r\n      message: \"\" \r\n    });\r\n  };\r\n\r\n  startResetProcess = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ message: \"\", error: \"\" });\r\n    try {\r\n      console.info(\r\n        `[front-end/src/user/ResetPassword => startResetProcess:21] : newPassword (avant le fetch): ${this.state.newPassword}`\r\n      );\r\n      console.info(\r\n        `[front-end/src/user/ResetPassword => startResetProcess:24] : this.props.match.params.resetPasswordToken (avant le fetch): ${this.props.match.params.resetPasswordToken}`\r\n      );\r\n      const data = await resetPassword({\r\n        newPassword: this.state.newPassword,\r\n        resetPasswordLink: this.props.match.params.resetPasswordToken,\r\n      });\r\n      // console.log(`[front-end/src/user/ResetPassword => startResetProcess:30] : data: ${data}`);\r\n      if (data.error) {\r\n        console.error(\r\n          `[front-end/src/user/ResetPassword => startResetProcess:34] : data.error: ${JSON.stringify(data.error)}`\r\n        );\r\n        this.setState({ error: data.error, newPassword: \"\" });\r\n      } else {\r\n        console.info(\r\n          `[front-end/src/user/ResetPassword => startResetProcess:39] : data.message: ${JSON.stringify(data.message)}`\r\n        );\r\n        this.setState({ message: data.message, newPassword: \"\", redirectionSignIn: true });\r\n      }\r\n    } catch (error) {\r\n      console.error(`Password couldn't be reset because of error: ${error}`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { newPassword, message, error } = this.state;\r\n    // console.log(`[front-end/src/user/ResetPassword => render:57] : message: ${JSON.stringify(message)}`)\r\n    // console.log(`[front-end/src/user/ResetPassword => render:58] : error: ${(JSON.stringify(error))}`)\r\n    // console.log(`[front-end/src/user/ResetPassword => render:60] : newPassword: ${newPassword}`)\r\n\r\n    return (\r\n      <div className=\"container jumbotron\">\r\n        <h2 className=\"mt-5 mb-5\">Modification du mot de passe</h2>\r\n\r\n        {message && <h5 className=\"alert alert-success\">{message}</h5>}\r\n        {error && <h5 className=\"alert alert-danger\">{error}</h5>}\r\n\r\n        <form>\r\n          <div className=\"form-group mt-5\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Choisis ton nouveau mot de passe... et tâche de le noter cette fois-ci, mille sabords !\"\r\n              value={newPassword}\r\n              name=\"newPassword\"\r\n              onChange={this.handleChange(\"newPassword\")}\r\n              autoFocus\r\n            />\r\n          </div>\r\n          <button\r\n            onClick={this.startResetProcess}\r\n            className=\"btn btn-raised btn-primary\"\r\n          >\r\n            Modifier le mot de passe\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResetPassword;\r\n","// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n// Components import\r\nimport Posts from \"../post/Posts\";\r\nimport Users from \"../user/Users\";\r\n\r\n// Personal modules import\r\nimport {isLoggedIn} from '../../logic/auth/index';\r\n\r\nclass AdminInterface extends Component {\r\n  state = {\r\n    redirectionHome: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (isLoggedIn().user.right !== 'Roi des Pirates') {\r\n      this.setState({ redirectionHome: true })\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {redirectionHome} = this.state;\r\n\r\n    if (redirectionHome) {\r\n      <Redirect to=\"/\" />\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"jumbotron\">\r\n          <h2 className=\"text-center\">Planque du Roi des Pirates</h2>\r\n          <p className=\"lead text-justify\">\r\n            Ici, vous avez tous les pouvoirs, mouhahahahaha ! *tousse*\r\n            Plus sérieusement, tu es ici dans le panneau d'aministration du site.\r\n            Si tu es ici, c'est qu'apparemment quelqu'un te pensait digne...\r\n            Bref, laissons de côté les considérations subjectives un instant.\r\n            Tu peux ici TOUT VOIR, TOUT MODIFIER et TOUT SUPPRIMER !\r\n\r\n            N'oublie pas, Roi des Pirates, que comme le disait à juste titre \r\n            l'oncle Ben dans Spiderman : \"Un grand pouvoir implique de grandes responsabilités.\"\r\n          </p>\r\n        </div>\r\n        <div className=\"container-fluid jumbotron\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 text-center\">\r\n              <h2>Tous les messages des Pirates</h2>\r\n              <hr />\r\n              <Posts />\r\n              <hr />\r\n            </div>\r\n            <div className=\"col-md-6 text-center\">\r\n              <h2>Tous les Pirates (tes sujets)</h2>\r\n              <hr />\r\n              <Users />\r\n              <hr />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminInterface;\r\n","/* eslint-disable no-unused-vars */\r\n// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isLoggedIn() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/signin\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","// Native modules import\r\nimport React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\n// Components import\r\nimport Menu from \"./components/core/Menu\";\r\nimport Taverne from \"./pages/core/Taverne\";\r\nimport Users from \"./pages/user/Users\";\r\nimport Signup from \"./pages/core/Signup\";\r\nimport Signin from \"./pages/core/Signin\";\r\nimport Profile from \"./pages/user/Profile\";\r\nimport EditProfile from \"./pages/user/EditProfile\";\r\nimport Posts from \"./pages/post/Posts\";\r\nimport NewPost from \"./pages/post/NewPost\";\r\nimport OnePost from \"./pages/post/OnePost\";\r\nimport EditPost from \"./pages/post/EditPost\";\r\nimport ForgotPassword from \"./components/user/ForgotPassword\";\r\nimport ResetPassword from \"./components/user/ResetPassword\";\r\nimport AdminInterface from \"./pages/admin/Admin\";\r\nimport PrivateRoute from \"./components/auth/PrivateRoute\";\r\n\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <Menu />\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Taverne} />\r\n      <PrivateRoute exact path=\"/admin\" component={AdminInterface} />\r\n      <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n      <Route exact path=\"/reset-password/:resetPasswordToken\" component={ResetPassword} />\r\n      <Route exact path=\"/users\" component={Users} />\r\n      <PrivateRoute exact path=\"/posts\" component={Posts} />\r\n      <PrivateRoute exact path=\"/post/create\" component={NewPost} />\r\n      <PrivateRoute exact path=\"/post/:postId\" component={OnePost} />\r\n      <PrivateRoute exact path=\"/post/edit/:postId\" component={EditPost} />\r\n      <Route exact path=\"/signup\" component={Signup} />\r\n      <Route exact path=\"/signin\" component={Signin} />\r\n      <PrivateRoute exact path=\"/user/edit/:userId\" component={EditProfile} />\r\n      <PrivateRoute exact path=\"/user/:userId\" component={Profile} />\r\n    </Switch>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","// Native modules import\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n// Components import\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}